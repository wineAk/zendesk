<script src="{{asset 'home_page-recent_activity.js'}}"></script>
<h1 class="visibility-hidden">{{ help_center.name }}</h1>

<section id="main-content" class="section hero">
  <div class="hero-inner">
    <h2 class="hero-title">
      なにかお困りですか？
    </h2>
    <p class="text-center my-2">あなたの悩みを検索してみましょう</p>
    <h2 class="visibility-hidden">{{ t 'search' }}</h2>
    <div class="relative">
      <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" focusable="false" viewBox="0 0 12 12" class="search-icon" aria-hidden="true">
        <circle cx="4.5" cy="4.5" r="4" fill="none" stroke="currentColor"/>
        <path stroke="currentColor" stroke-linecap="round" d="M11 11L7.5 7.5"/>
      </svg>
      {{search submit=false instant=settings.instant_search class='search search-full'}}
    </div>
  </div>
</section>

<div class="container">
  
  <section class="section home-section">
    <section class="categories blocks">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
        <a href="https://www.saaske.com/technology/" target="_blank" class="home_info technology"></a>
        <a href="https://timerex.net/s/interpark/deef14a3" target="_blank" class="home_info consulting"></a>
        <a href="https://help.works.app/hc/ja/requests/new" target="_blank" class="home_info works"></a>
      </div>
    </section>
  </section>

  <section class="section home-section">
    <h2 class="font-bold">🗂️ カテゴリ一覧</h2>
    <h2 class="visibility-hidden">{{ t 'categories' }}</h2>
    <section class="categories blocks">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        {{#each categories}}
          {{#if ../has_multiple_categories}}
            <a
              href='{{url}}'
              class="border border-slate-200 rounded-lg bg-white hover:bg-gray-50 no-underline"
            >
              <div class="flex flex-col gap-2 p-4 h-full">  
                <div>
                  <p class="font-bold text-xl text-center text-gray-700 mb-1">
                    {{name}}
                  </p>
                  <p class="text-gray-700">
                    {{excerpt description}}
                  </p>
                </div>
              </div>
            </a>
          {{else}}
            {{#each sections}}
              <a
                href='{{url}}'
                class="border border-slate-200 rounded-lg bg-white hover:bg-gray-50 no-underline"
              >
                <div class="flex flex-col gap-2 p-4 h-full">  
                  <div>
                    <p class="font-bold text-xl text-center text-gray-700 mb-1">
                      {{name}}
                    </p>
                    <p class="text-gray-700">
                      {{excerpt description}}
                    </p>
                  </div>
                </div>
              </a>
            {{/each}}
          {{/if}}
        {{/each}}
      </div>
      {{pagination}}
    </section>

    {{#if promoted_articles}}
      <section class="articles">
        <h2 class="font-bold">{{t 'promoted_articles'}}</h2>
        <ul class="article-list promoted-articles">
          {{#each promoted_articles}}
            <li class="promoted-articles-item">
                <a href="{{url}}">
                  {{title}}

                  {{#if internal}}
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" focusable="false" viewBox="0 0 16 16" class="icon-lock" title="{{t 'internal'}}">
                      <rect width="12" height="9" x="2" y="7" fill="currentColor" rx="1" ry="1"/>
                      <path fill="none" stroke="currentColor" d="M4.5 7.5V4a3.5 3.5 0 017 0v3.5"/>
                    </svg>
                  {{/if}}
                </a>
            </li>
          {{/each}}
        </ul>
      </section>
    {{/if}}
  </section>

  {{#if help_center.community_enabled}}
    <section class="section home-section community">
      <h2 class="font-bold">{{t 'community'}}</h2>
      {{#link 'community' class='community-link'}}
        {{t 'join_conversation'}}
      {{/link}}

      <div class="community-image"></div>
    </section>
  {{/if}}

  <section class="section home-section">
    <h2 class="font-bold">📜 旧マニュアル</h2>
    <section class="categories blocks">
      <div
        x-data="{
          manuals: [
            { fileName: '00M01', service: 'サスケ全般',   role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'サスケ共通の管理者向け設定マニュアルです。\nアカウントの作成方法や権限の設定方法等を解説しています。' },
            { fileName: '07M01', service: 'サスケLead',   role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'サスケLeadの管理者向け設定マニュアルです。\nサスケLeadの運用に向けての初期設定や運用フローに合わせた設定方法を解説しています。' },
            { fileName: '07M02', service: 'サスケLead',   role: '管理者', type: '操作',              title: '管理者マニュアル 操作編',         description: 'サスケLeadの管理者向け操作マニュアルです。\n実際にサスケLeadを運用していく上で必要な操作方法を解説しています。' },
            { fileName: '07M03', service: 'サスケLead',   role: 'ユーザ', type: '操作',              title: 'ユーザーマニュアル',              description: 'ユーザー権限の利用者がサスケLeadを利用する上で必要な操作方法を解説しています。' },
            { fileName: '05M01', service: 'サスケSales',  role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'サスケSalesの管理者向け設定マニュアルです。\nサスケSalesの運用に向けての初期設定や運用フローに合わせた設定方法を解説しています。' },
            { fileName: '04M01', service: 'テレアポ職人', role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'テレアポ職人の管理者向け設定マニュアルです。\nテレアポ職人の運用に向けての初期設定や運用フローに合わせた設定方法を解説しています。' },
            { fileName: '04M02', service: 'テレアポ職人', role: '管理者', type: '操作',              title: '管理者マニュアル 操作編',         description: 'テレアポ職人の管理者向け操作マニュアルです。\n実際にテレアポ職人を運用していく上で必要な操作方法を解説しています。' },
            { fileName: '04M10', service: 'テレアポ職人', role: '管理者', type: 'インポート',        title: '対応履歴インポートマニュアル',    description: 'テレアポ職人の管理者向け操作マニュアルです。\n本機能はインターパークにお問い合わせいただくことで利用出来ます。' },
            { fileName: '04M03', service: 'テレアポ職人', role: 'ユーザ', type: '操作',              title: 'ユーザーマニュアル',              description: 'ユーザー権限の利用者がテレアポ職人を利用する上で必要な操作方法を解説しています。' },
            { fileName: '08M01', service: 'Webフォーム',  role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'Webフォームの管理者向け設定マニュアルです。\nWebフォームの運用に向けての初期設定や各サービスとの連携方法を解説しています。' },
            { fileName: '09M01', service: 'Web行動解析',  role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'Web行動解析の管理者向け設定マニュアルです。\nWeb行動解析の運用に向けての初期設定や運用フローに合わせた設定方法を解説しています。' },
            { fileName: '09M02', service: 'Web行動解析',  role: 'ユーザ', type: '操作',              title: 'ユーザーマニュアル',              description: 'ユーザー権限の利用者がWeb行動解析を利用する上で必要な操作方法を解説しています。' },
            { fileName: '10M01', service: 'Cloud CTI',    role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'Cloud CTIの管理者向け設定マニュアルです。\nCloud CTIの運用に向けての初期設定や運用フローに合わせた設定方法を解説しています。' },
            { fileName: '10M02', service: 'Cloud CTI',    role: 'ユーザ', type: '操作',              title: 'ユーザーマニュアル',              description: 'ユーザー権限の利用者がCloud CTIを利用する上で必要な操作方法を解説しています。' },
            { fileName: '11M01', service: 'Cloud Scan',   role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'Cloud Scanの管理者向け設定マニュアルです。\nCloud Scanの運用に向けての初期設定や運用フローに合わせた設定方法を解説しています。' },
            { fileName: '11M05', service: 'Cloud Scan',   role: 'ユーザ', type: 'スマホ アプリ',     title: 'ユーザーマニュアル iOS版',        description: 'ユーザー権限の利用者がCloud Scanを利用する上で必要な操作方法を解説しています。' },
            { fileName: '11M03', service: 'Cloud Scan',   role: 'ユーザ', type: 'タブレット アプリ', title: 'ユーザーマニュアル タブレット版', description: 'ユーザー権限の利用者がCloud Scanを利用する上で必要な操作方法を解説しています。' },
            { fileName: '11M02', service: 'Cloud Scan',   role: 'ユーザ', type: 'タブレット操作',    title: 'タブレットマニュアル',            description: 'Cloud Scanアプリで使用するタブレット端末の操作・設定方法を解説しています。' },
          ],
          getServiceClass(service) {
            return {
              'サスケ全般':   'bg-gray-100 text-gray-700',
              'サスケLead':   'bg-lime-50 text-lime-700',
              'サスケSales':  'bg-blue-50 text-blue-700',
              'テレアポ職人': 'bg-emerald-50 text-emerald-700',
              'Works':        '',
              'Webフォーム':  'bg-purple-50 text-purple-700',
              'Web行動解析':  'bg-amber-50 text-amber-700',
              'Cloud CTI':    'bg-cyan-50 text-cyan-700',
              'Cloud Scan':   'bg-red-50 text-red-700',
              'API':          'bg-indigo-50 text-indigo-700',
            }[service] || '';
          },
          getRoleClass(role) {
            return {
              '管理者': 'bg-pink-50 text-pink-700',
              'ユーザ': 'bg-gray-100 text-gray-700'
            }[role] || '';
          }
        }" id="old_manuals" class="grid grid-cols-1 divide-y-1 divide-solid divide-slate-200">
        <template x-for="manual in manuals" :key="manual.fileName">
          <a :href="`https://www.saaske.com/document/${manual.fileName}.pdf`"
            target="_blank"
            class="grid grid-cols-1 gap-2 lg:flex p-4 hover:bg-gray-50 no-underline">
            <div class="flex flex-col sm:flex-row lg:items-center gap-2 sm:gap-4">
              <div class="w-60 lg:w-30 grid grid-cols-2 lg:grid-cols-1 gap-2">
                <p class="flex items-center justify-center text-xs px-2.5 py-0.5 rounded-sm" :class="getServiceClass(manual.service)">
                  <span x-text="manual.service"></span>
                </p>
                <p class="flex items-center justify-center text-xs px-2.5 py-0.5 rounded-sm" :class="getRoleClass(manual.role)">
                  <span x-text="manual.role"></span>
                </p>
              </div>
              <p class="font-bold text-xl text-gray-700 w-90" x-text="manual.title"></p>
            </div>
            <div class="flex items-center text-gray-500 lg:flex-1 sm:whitespace-pre-line" x-text="manual.description"></div>
          </a>
        </template>
      </div>
    </section>
  </section>

  <section class="section home-section">
    <h2 class="font-bold">🚀 最新の投稿</h2>
    <section class="categories blocks">
      <div id="recent_activity" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      </div>
    </section>
  </section>

  <section class="section home-section">
    <h2 class="font-bold">♻️ 最近のアップデート</h2>
    <section class="categories blocks">
      <div id="recent_updates" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      </div>
    </section>
  </section>

</div>
