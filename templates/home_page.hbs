<h1 class="visibility-hidden">{{help_center.name}}</h1>

<section
  id="main-content"
  class="section hero"
  x-data="{
      text: '',
      textArray : [
        'なにかお困りですか？',
        'インポート方法',
        'メールの送信方法',
        '電話番号の取得',
        'ぜひ試してみてください！'
      ],
      textIndex: 0,
      charIndex: 0,
      typeSpeed: 110,
      cursorSpeed: 550,
      pauseEnd: 3000,
      pauseStart: 20,
      direction: 'forward',
  }"
  x-init="$nextTick(() => {
      let typingInterval = setInterval(startTyping, $data.typeSpeed);
      function startTyping(){
          let current = $data.textArray[ $data.textIndex ];
          // check to see if we hit the end of the string
          if ($data.charIndex > current.length) {
            $data.direction = 'backward';
            clearInterval(typingInterval);
            setTimeout(function(){
              typingInterval = setInterval(startTyping, $data.typeSpeed);
            }, $data.pauseEnd);
          }
          $data.text = current.substring(0, $data.charIndex);
          if ($data.direction == 'forward') {
            $data.charIndex += 1;
          } else {
            if ($data.charIndex == 0) {
              $data.direction = 'forward';
              clearInterval(typingInterval);
              setTimeout(function(){
                $data.textIndex += 1;
                if ($data.textIndex >= $data.textArray.length) $data.textIndex = 0;
                typingInterval = setInterval(startTyping, $data.typeSpeed);
              }, $data.pauseStart);
            }
            $data.charIndex -= 1;
          }
      }
      setInterval(function(){
        if ($refs.cursor.classList.contains('hidden')) {
          $refs.cursor.classList.remove('hidden');
        } else {
          $refs.cursor.classList.add('hidden');
        }
      }, $data.cursorSpeed);
  })"
>
  <div class="hero-inner">
    <div class="hero-title">
      <div class="mx-auto flex items-center justify-center text-center">
        <div class="relative flex h-8 items-center justify-center">
          <p class="text-2xl leading-tight font-black" x-text="text"></p>
          <span
            class="absolute right-0 -mr-2 h-3/4 w-2 bg-green-800"
            x-ref="cursor"
          ></span>
        </div>
      </div>
    </div>
    <p class="my-2 text-center">あなたの悩みを検索してみましょう</p>
    <h2 class="visibility-hidden">{{t "search"}}</h2>
    <div class="relative">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="12"
        height="12"
        focusable="false"
        viewBox="0 0 12 12"
        class="search-icon"
        aria-hidden="true"
      >
        <circle cx="4.5" cy="4.5" r="4" fill="none" stroke="currentColor" />
        <path stroke="currentColor" stroke-linecap="round" d="M11 11L7.5 7.5" />
      </svg>
      {{search
        submit=false
        instant=settings.instant_search
        class="search search-full"
      }}
    </div>
  </div>
</section>

<div class="container">

  <section class="section home-section">
    <section class="categories blocks">
      <div class="grid grid-cols-1 gap-4 lg:grid-cols-3">
        <a href="https://www.saaske.com/technology/" target="_blank" class="home_info technology"></a>
        <a href="https://timerex.net/s/interpark/deef14a3" target="_blank" class="home_info consulting"></a>
        <a href="https://help.works.app/hc/ja/requests/new" target="_blank" class="home_info works"></a>
      </div>
    </section>
  </section>

  <section class="section home-section">
    <div class="flex flex-col gap-4">
      <div class="w-full rounded-lg p-4 space-y-2 bg-blue-50 text-blue-600">
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" /></svg>
            <a
              class="font-bold text-blue-600 visited:!text-blue-600 after:!text-blue-600"
              href="https://www.saaske.com/technology/entry/no634.htm"
              target="_blank"
            >
              セキュリティ強化に伴うご案内
            </a>
          </div>
          <div class="text-sm opacity-85">
            サービスの安全性向上を目的として
            2025年6月18日(水) 午前中にセキュリティ設定の強化を実施いたしました。
          </div>
      </div>
      <div class="hidden relative w-full rounded-lg border border-transparent bg-red-50 p-4 [&>svg]:absolute [&>svg]:text-foreground [&>svg]:left-4 [&>svg]:top-4 [&>svg+div]:translate-y-[-3px] [&:has(svg)]:pl-11 text-red-600">
          <svg class="w-5 h-5 -translate-y-0.5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" /></svg>
          <h5 class="mb-1 font-medium leading-none tracking-tight">Alert Message Headline</h5>
          <div class="text-sm opacity-80">This is the subtext for your alert message, providing important information or instructions.</div>
      </div>
      <div class="hidden relative w-full rounded-lg border border-transparent bg-green-50 p-4 [&>svg]:absolute [&>svg]:text-foreground [&>svg]:left-4 [&>svg]:top-4 [&>svg+div]:translate-y-[-3px] [&:has(svg)]:pl-11 text-green-600">
          <svg class="w-5 h-5 -translate-y-0.5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
          <h5 class="mb-1 font-medium leading-none tracking-tight">Alert Message Headline</h5>
          <div class="text-sm opacity-80">This is the subtext for your alert message, providing important information or instructions.</div>
      </div>
      <div class="hidden relative w-full rounded-lg border border-transparent bg-yellow-50 p-4 [&>svg]:absolute [&>svg]:text-foreground [&>svg]:left-4 [&>svg]:top-4 [&>svg+div]:translate-y-[-3px] [&:has(svg)]:pl-11 text-yellow-600">
          <svg class="w-5 h-5 -translate-y-0.5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" /></svg>
          <h5 class="mb-1 font-medium leading-none tracking-tight">Alert Message Headline</h5>
          <div class="text-sm opacity-80">This is the subtext for your alert message, providing important information or instructions.</div>
      </div>
    </div>
  </section>

  <section class="section home-section">
    <h2 class="font-bold">🗂️ カテゴリ一覧</h2>
    <h2 class="visibility-hidden">{{t "categories"}}</h2>
    <section class="categories blocks">
      <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3">
        <style>
          /* お役立ち情報 */
          [data-category-id="46397455628697"] {
            display: none !important;
          }
        </style>
        {{#each categories}}
          <a
            href="{{url}}"
            class="rounded-lg border border-slate-200 bg-white no-underline hover:bg-gray-50"
            data-category-id="{{id}}"
          >
            <div class="flex h-full flex-col gap-2 p-4">
              <div>
                <p class="mb-1 text-center text-xl font-bold text-gray-700">
                  {{name}}
                </p>
                <p class="text-gray-700">
                  {{excerpt description}}
                </p>
              </div>
            </div>
          </a>
        {{/each}}
      </div>
      {{pagination}}
    </section>
  </section>

  {{#if promoted_articles}}
    <section class="section home-section">
      <h2 class="font-bold">🔍 ピックアップ記事</h2>
      <h2 class="visibility-hidden">{{t "promoted_articles"}}</h2>
      <section class="categories blocks">
        <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3">
          {{#each promoted_articles}}
            <a
              href="{{url}}"
              class="rounded-lg border border-slate-200 text-gray-500 no-underline hover:bg-gray-50"
            >
              <div class="flex h-full flex-col gap-2 p-4">
                <div>
                  <p
                    class="mb-2 truncate text-xl font-bold text-gray-700"
                  >{{title}}</p>
                  <p>{{snippet}}</p>
                </div>
              </div>
            </a>
          {{/each}}
        </div>
        {{pagination}}
      </section>
    </section>
  {{/if}}

  <section
    x-data="{
      categories: [
        { articles: [], sort_by: 'created_at', title: '🚀 最新の投稿', },
        { articles: [], sort_by: 'updated_at', title: '♻️ 最近のアップデート', }
      ],
      getData() {
        this.categories.forEach(category => {
          fetchAllZendeskArticles({ sort_by: category.sort_by, per_page: 12 }).then(data => category.articles = data)
        });
      }
    }"
    x-init="getData()"
  >
    <template x-for="category in categories">
      <section class="section home-section">
        <h2 class="font-bold" x-text="category.title"></h2>
        <section class="categories blocks">
          <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3">
            <template x-for="article in category.articles">
              <a
                :href="article.html_url"
                class="rounded-lg border border-slate-200 text-gray-500 no-underline hover:bg-gray-50"
              >
                <div class="flex h-full flex-col gap-2 p-4">
                  <div>
                    <nav
                      class="mb-2 flex text-xs text-gray-400"
                      aria-label="Breadcrumb"
                    >
                      <ol class="flex items-center gap-2 truncate">
                        <li><i class="fa-solid fa-house h-3 w-3"></i></li>
                        <li x-text="article.category_name"></li>
                        <li><i class="fa-solid fa-chevron-right h-3 w-3"></i></li>
                        <li class="truncate" x-text="article.section_name"></li>
                      </ol>
                    </nav>
                    <p class="mb-2 truncate text-xl font-bold text-gray-700" x-text="article.name"></p>
                    <p x-text="article.body"></p>
                  </div>
                  <p class="mt-auto text-right text-sm" x-text="article[`${category.sort_by}_timeAgo`]"></p>
                </div>
              </a>
            </template>
          </div>
        </section>
      </section>
    </template>
  </section>

  <section class="section home-section">
    <div
      x-data="{ 
      activeAccordion: '', 
      setActiveAccordion(id) { 
          this.activeAccordion = (this.activeAccordion == id) ? '' : id 
      } 
    }"
      class="relative mx-auto w-full divide-y divide-gray-200 overflow-hidden rounded-md border border-gray-200 bg-white text-sm font-normal"
    >
      <div x-data="{ id: $id('accordion') }" class="group cursor-pointer">
        <button
          @click="setActiveAccordion(id)"
          class="flex w-full cursor-pointer items-center justify-between p-4 text-left select-none"
        >
          <span class="font-bold">📜 旧マニュアルを閲覧する</span>
          <svg
            class="h-4 w-4 duration-200 ease-out"
            :class="{ 'rotate-180': activeAccordion==id }"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          ><polyline points="6 9 12 15 18 9"></polyline></svg>
        </button>
        <div x-show="activeAccordion==id" x-collapse x-cloak>
          <div
            x-data="{
              manuals: [
                { fileName: '00M01', service: 'サスケ全般',   role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'サスケ共通の管理者向け設定マニュアルです。\nアカウントの作成方法や権限の設定方法等を解説しています。' },
                { fileName: '07M01', service: 'サスケLead',   role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'サスケLeadの管理者向け設定マニュアルです。\nサスケLeadの運用に向けての初期設定や運用フローに合わせた設定方法を解説しています。' },
                { fileName: '07M02', service: 'サスケLead',   role: '管理者', type: '操作',              title: '管理者マニュアル 操作編',         description: 'サスケLeadの管理者向け操作マニュアルです。\n実際にサスケLeadを運用していく上で必要な操作方法を解説しています。' },
                { fileName: '07M03', service: 'サスケLead',   role: 'ユーザ', type: '操作',              title: 'ユーザーマニュアル',              description: 'ユーザー権限の利用者がサスケLeadを利用する上で必要な操作方法を解説しています。' },
                { fileName: '05M01', service: 'サスケSales',  role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'サスケSalesの管理者向け設定マニュアルです。\nサスケSalesの運用に向けての初期設定や運用フローに合わせた設定方法を解説しています。' },
                { fileName: '04M01', service: 'テレアポ職人', role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'テレアポ職人の管理者向け設定マニュアルです。\nテレアポ職人の運用に向けての初期設定や運用フローに合わせた設定方法を解説しています。' },
                { fileName: '04M02', service: 'テレアポ職人', role: '管理者', type: '操作',              title: '管理者マニュアル 操作編',         description: 'テレアポ職人の管理者向け操作マニュアルです。\n実際にテレアポ職人を運用していく上で必要な操作方法を解説しています。' },
                { fileName: '04M10', service: 'テレアポ職人', role: '管理者', type: 'インポート',        title: '対応履歴インポートマニュアル',    description: 'テレアポ職人の管理者向け操作マニュアルです。\n本機能はインターパークにお問い合わせいただくことで利用出来ます。' },
                { fileName: '04M03', service: 'テレアポ職人', role: 'ユーザ', type: '操作',              title: 'ユーザーマニュアル',              description: 'ユーザー権限の利用者がテレアポ職人を利用する上で必要な操作方法を解説しています。' },
                { fileName: '08M01', service: 'Webフォーム',  role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'Webフォームの管理者向け設定マニュアルです。\nWebフォームの運用に向けての初期設定や各サービスとの連携方法を解説しています。' },
                { fileName: '09M01', service: 'Web行動解析',  role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'Web行動解析の管理者向け設定マニュアルです。\nWeb行動解析の運用に向けての初期設定や運用フローに合わせた設定方法を解説しています。' },
                { fileName: '09M02', service: 'Web行動解析',  role: 'ユーザ', type: '操作',              title: 'ユーザーマニュアル',              description: 'ユーザー権限の利用者がWeb行動解析を利用する上で必要な操作方法を解説しています。' },
                { fileName: '10M01', service: 'Cloud CTI',    role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'Cloud CTIの管理者向け設定マニュアルです。\nCloud CTIの運用に向けての初期設定や運用フローに合わせた設定方法を解説しています。' },
                { fileName: '10M02', service: 'Cloud CTI',    role: 'ユーザ', type: '操作',              title: 'ユーザーマニュアル',              description: 'ユーザー権限の利用者がCloud CTIを利用する上で必要な操作方法を解説しています。' },
                { fileName: '11M01', service: 'Cloud Scan',   role: '管理者', type: '設定',              title: '管理者マニュアル 設定編',         description: 'Cloud Scanの管理者向け設定マニュアルです。\nCloud Scanの運用に向けての初期設定や運用フローに合わせた設定方法を解説しています。' },
                { fileName: '11M05', service: 'Cloud Scan',   role: 'ユーザ', type: 'スマホ アプリ',     title: 'ユーザーマニュアル iOS版',        description: 'ユーザー権限の利用者がCloud Scanを利用する上で必要な操作方法を解説しています。' },
                { fileName: '11M03', service: 'Cloud Scan',   role: 'ユーザ', type: 'タブレット アプリ', title: 'ユーザーマニュアル タブレット版', description: 'ユーザー権限の利用者がCloud Scanを利用する上で必要な操作方法を解説しています。' },
                { fileName: '11M02', service: 'Cloud Scan',   role: 'ユーザ', type: 'タブレット操作',    title: 'タブレットマニュアル',            description: 'Cloud Scanアプリで使用するタブレット端末の操作・設定方法を解説しています。' },
              ],
              getServiceClass(service) {
                return {
                  'サスケ全般':   'bg-gray-100 text-gray-700',
                  'サスケLead':   'bg-lime-50 text-lime-700',
                  'サスケSales':  'bg-blue-50 text-blue-700',
                  'テレアポ職人': 'bg-emerald-50 text-emerald-700',
                  'Works':        '',
                  'Webフォーム':  'bg-purple-50 text-purple-700',
                  'Web行動解析':  'bg-amber-50 text-amber-700',
                  'Cloud CTI':    'bg-cyan-50 text-cyan-700',
                  'Cloud Scan':   'bg-red-50 text-red-700',
                  'API':          'bg-indigo-50 text-indigo-700',
                }[service] || '';
              },
              getRoleClass(role) {
                return {
                  '管理者': 'bg-pink-50 text-pink-700',
                  'ユーザ': 'bg-gray-100 text-gray-700'
                }[role] || '';
              }
            }"
            id="old_manuals"
            class="grid grid-cols-1 divide-y-1 divide-solid divide-slate-200 border-t border-slate-200"
          >
            <template x-for="manual in manuals" :key="manual.fileName">
              <a :href="`https://www.saaske.com/document/${manual.fileName}.pdf`"
                target="_blank"
                class="grid grid-cols-1 gap-2 lg:flex p-4 hover:bg-gray-50 no-underline">
                <div class="flex flex-col sm:flex-row lg:items-center gap-2 sm:gap-4">
                  <div class="w-60 lg:w-30 grid grid-cols-2 lg:grid-cols-1 gap-2">
                    <p class="flex items-center justify-center text-xs px-2.5 py-0.5 rounded-sm" :class="getServiceClass(manual.service)">
                      <span x-text="manual.service"></span>
                    </p>
                    <p class="flex items-center justify-center text-xs px-2.5 py-0.5 rounded-sm" :class="getRoleClass(manual.role)">
                      <span x-text="manual.role"></span>
                    </p>
                  </div>
                  <p class="font-bold text-xl text-gray-700 w-90" x-text="manual.title"></p>
                </div>
                <div class="flex items-center text-gray-500 lg:flex-1 sm:whitespace-pre-line" x-text="manual.description"></div>
              </a>
            </template>
          </div>
        </div>
      </div>
    </div>
  </section>

</div>